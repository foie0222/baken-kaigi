"""AgentCoreツール共通定数.

各ツールに散在していたマジックナンバー・閾値を集約する。
"""

# =============================================================================
# 共通: API設定
# =============================================================================

API_TIMEOUT_SECONDS = 30

# =============================================================================
# オッズ分析閾値 (odds_analysis.py)
# =============================================================================

# オッズ変動判定閾値 (%)
ODDS_SHARP_DROP = -30.0    # 30%以上下落: 急落
ODDS_DROP = -15.0          # 15%以上下落: 下落
ODDS_RISE = 15.0           # 15%以上上昇: 上昇
ODDS_SHARP_RISE = 30.0     # 30%以上上昇: 急騰

# 締切前変動の重要度
FINAL_HOUR_WEIGHT = 2.0    # 締切前1時間の変動は重要度2倍

# 妙味判定閾値（AI指数ベース）
AI_VALUE_HIGH = 1.3        # AI推定オッズの1.3倍以上: 妙味あり
AI_VALUE_LOW = 0.7         # AI推定オッズの0.7倍以下: 過剰人気

# 単複比の閾値
WIN_PLACE_RATIO_HIGH = 6.0   # 単複比6以上: 頭は厳しいが複勝圏内
WIN_PLACE_RATIO_LOW = 2.5    # 単複比2.5以下: 勝ち切り期待

# =============================================================================
# レース総合分析閾値 (race_comprehensive_analysis.py)
# =============================================================================

# 能力評価の閾値
SCORE_EXCELLENT = 80
SCORE_GOOD = 65

# オッズ評価の閾値
FAVORITE_ODDS_THRESHOLD = 5.0
VALUE_ODDS_THRESHOLD = 15.0

# 騎手評価の閾値 (勝率 %)
JOCKEY_WIN_RATE_A = 18.0
JOCKEY_WIN_RATE_B = 12.0
JOCKEY_WIN_RATE_C = 8.0

# 調教師評価の閾値 (勝率 %)
TRAINER_WIN_RATE_A = 15.0
TRAINER_WIN_RATE_B = 10.0

# 馬体重変動の閾値 (kg)
WEIGHT_CHANGE_A = 4     # 4kg以内: 適正
WEIGHT_CHANGE_B = 9     # 5-9kg: やや変動
WEIGHT_CHANGE_C = 14    # 10-14kg: 大幅変動

# =============================================================================
# リスク分析閾値 (risk_analysis.py)
# =============================================================================

# 見送り推奨: AI上位5頭のスコア差
AI_SCORE_CLOSE_GAP = 30       # 混戦と判定する閾値
AI_SCORE_MODERATE_GAP = 60    # やや接戦と判定する閾値

# バイアス診断
LONGSHOT_BIAS_RATIO = 0.6           # 穴馬偏重と判定する比率
FAVORITE_BIAS_RATIO = 0.8           # 本命偏重と判定する比率
HIGH_PAYOUT_TYPE_RATIO = 0.7        # 高配当券種偏重と判定する比率
OVER_INVESTMENT_THRESHOLD = 20000   # 過大投資と判定する閾値（円）
